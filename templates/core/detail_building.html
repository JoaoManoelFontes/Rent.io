{% extends 'base.html' %} {% block title %}{{title}}{% endblock %} 
{% load static %}
{% load util %}
{% block extrahead %}
    <link rel="stylesheet" href="{% static 'css/detail.css' %}">
{% endblock %}
{% block content%}
<section style="padding-top: 1rem;">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h4>{{building.name}}</h4>
                <p class="text-muted">{{building.city}} - {{building.address}}</p>
            </div>
            <div class="col-md-6">
                <div style="display: flex; align-items: center; justify-content: end;">
                    <img style=" background-color: #27374D; margin-right: 1rem; border-radius: 60%;" src="{% static 'images/profile.png' %}" width="40px" height="40px" alt="profile">
                    <div>
                        <p style="margin-bottom: 0;">{{building.customer}}</p>
                        <p class="text-muted" style="margin-bottom: 0; font-size: small; ">Proprietário</p>
                    </div>
                </div>
        </div>
    </div>
    {% if has_many_medias %}
    <div class="row" id="image-container">
        <div class="col-md-8">
            <div style="display: flex; ">
                <img style="flex: 1;" id="detail-image"  src="{{building|get_property_image}}" alt="">
            </div>
        </div>
        <div class="col-md-4" >
                <div>
                    <img id="detail-image"  src="{{building|get_property_second_image}}" alt="">
                </div>
        </div>
    </div>
    {% else %}
    <div class="row" id="image-container" style="display: flex; justify-content: center;">
        <div class="col-md-10">
            <div style="display: flex; ">
                <img style="flex: 1;" id="detail-image"  src="{{building|get_property_image}}" alt="">
            </div>
        </div>
    </div>
    {% endif %}
    <hr style="margin: 1rem;">
    <div class="row">
        <div class="col-md-5" id="property-offers-section">
            <h5 style="text-align: center;">Oferece:</h5>
            <div class="property-offers-container" id="building-container">
                <div>
                        <ul id="property-offers-list">
                            <li>
                                <p>{{building.floors}} andar(es)</p>
                            </li>
                            {% if building.recreation_area %}
                            <li>
                                <p>Área de lazer</p>
                            </li>
                            {% endif %}
                        </ul>
                </div>
                <div>
                    <ul id="property-offers-list">
                        {% if building.elevator %}
                        <li>
                            <p>Elevador</p>
                        </li>
                        {% endif %}
                        {% if building.concierge %}
                        <li>
                            <p>Portaria</p>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-7">
            <h5>Descrição:</h5>
            <p style="font-size: small; color:#27374D">{{building.description}}</p>
        </div>
    </div>
    <br>
    <div class="row" style="display: flex; align-items: center;">
        <div class="col-md-5">
            <div class="tab-content" id="nav-tab-content" >
                {% for apartment in apartments %}
                {% if forloop.first %}
                <div class="tab-pane fade show active p-3" id="nav-{{apartment.pk}}" role="tabpanel" aria-labelledby="nav-{{apartment.pk}}-tab">
                    <h5 style="text-align: center;">Informações do apartamento {{apartment.number}}:</h5>
                    <div class="apartment-info-container">
                        <ul id="apartment-info-list">
                            <li>{{apartment.floor}}° andar</li>
                            <li>{{apartment.rooms}} quarto(s)</li>
                            <li>{{apartment.bathrooms}} banheiro(s)</li>
                        </ul>
                        <ul id="apartment-info-list" style="text-align: end;">
                            <li>{{apartment.suites}} suite(s)</li>
                            <li>{{apartment.area}}m<sup>2</sup> </li>
                            <li>R$ {{apartment.base_price}} (negociável)</li>
                        </ul>
                    </div>
                </div>
                {% else %}
                <div class="tab-pane fade p-3" id="nav-{{apartment.pk}}" role="tabpanel" aria-labelledby="nav-{{apartment.pk}}-tab">
                    <h5 style="text-align: center;">Informações do apartamento {{apartment.number}}:</h5>
                    <div class="apartment-info-container">
                        <ul id="apartment-info-list">
                            <li>{{apartment.floor}}° andar</li>
                            <li>{{apartment.rooms}} quarto(s)</li>
                            <li>{{apartment.bathrooms}} banheiro(s)</li>
                        </ul>
                        <ul id="apartment-info-list" style="text-align: end;">
                            <li>{{apartment.suites}} suite(s)</li>
                            <li>{{apartment.area}}m<sup>2</sup> </li>
                            <li>R$ {{apartment.base_price}} (negociável)</li>
                        </ul>
                    </div>
            </div>
            {% endif %}
            {% endfor %}
    </div>
    </div>
    <div class="col-md-7">
        <div id="apartments-container" >
            <div style="text-align: center;">
                <h5>Apartamentos disponíveis:</h5>
            </div>
            <div class="nav nav-tabs" id="nav-tabs" role="tablist">
            {% for apartment in apartments %}
            {% if forloop.first %}
                <button class="nav-link active" id="nav-{{apartment.pk}}-tab" data-bs-toggle="tab" data-bs-target="#nav-{{apartment.pk}}" type="button" role="tab" aria-controls="nav-{{apartment.pk}}" aria-selected="true" style="background-image: linear-gradient(to left, #7d86928c, #6d77858f, #707680cb);">{{apartment.number}}</button>
            {% else %}
                <button class="nav-link" id="nav-{{apartment.pk}}-tab" data-bs-toggle="tab" data-bs-target="#nav-{{apartment.pk}}" type="button" role="tab" aria-controls="nav-{{apartment.pk}}" aria-selected="false" style="background-image: linear-gradient(to left, #7d86928c, #6d77858f, #707680cb);">{{apartment.number}}</button>
            {% endif %}
            {% endfor %}
            </div>
        </div>
        </div>
    </div>
<br>
</section>
{% endblock %}